(()=>{"use strict";var e,t={962:(e,t,n)=>{var s={};n.r(s);var o={};n.r(o);var a={};n.r(a);var r={};n.r(r);var i={};n.r(i);var u={};n.r(u);var l=n(294),c=n(935),m=n(711),h=n(974),d=n(942),g=n(949);const p={1:"Республика Адыгея",2:"Республика Башкортостан",3:"Республика Бурятия",4:"Республика Алтай",5:"Республика Дагестан",6:"Республика Ингушетия",7:"Кабардино-Балкарская Республика",8:"Республика Калмыкия",9:"Республика Карачаево-Черкессия",10:"Республика Карелия",11:"Республика Коми",12:"Республика Марий-Эл",13:"Республика Мордовия",14:"Республика Саха (Якутия)",15:"Республика Северная Осетия - Алания",16:"Республика Татарстан",17:"Республика Тыва",18:"Республика Удмуртия",19:"Республика Хакасия",20:"Чеченская республика",21:"Республика Чувашия",22:"Алтайский край",23:"Краснодарский край",24:"Красноярский край",25:"Приморский край",26:"Ставропольский край",27:"Хабаровский край",28:"Амурская область",29:"Архангельская область",30:"Астраханская область",31:"Белгородская область",32:"Брянская область",33:"Владимирская область",34:"Волгоградская область",35:"Вологодская область",36:"Воронежская область",37:"Ивановская область",38:"Иркутская область",39:"Калининградская область",40:"Калужская область",41:"Камчатская область",42:"Кемеровская область",43:"Кировская область",44:"Костромская область",45:"Курганская область",46:"Курская область",47:"Ленинградская область",48:"Липецкая область",49:"Магаданская область",50:"Московская область",51:"Мурманская область",52:"Нижегородская область",53:"Новгородская область",54:"Новосибирская область",55:"Омская область",56:"Оренбургская область",57:"Орловская область",58:"Пензенская область",59:"Пермский край",60:"Псковская область",61:"Ростовская область",62:"Рязанская область",63:"Самарская область",64:"Саратовская область",65:"Сахалинская область",66:"Свердловская область",67:"Смоленская область",68:"Тамбовская область",69:"Тверская область",70:"Томская область",71:"Тульская область",72:"Тюменская область",73:"Ульяновская область",74:"Челябинская область",75:"Забайкальский край",76:"Ярославская область",77:"Москва",78:"Санкт-Петербург",79:"Еврейская автономная область",80:"Забайкальский край",81:"Пермский край",82:"Республика Крым",83:"Ямало-ненецкий автономный округ",84:"Красноярский край",85:"Иркутская область",86:"Ханты-Мансийский автономный округ - Югра",87:"Чукотский автономный округ",88:"Красноярский край",89:"Ямало-ненецкий автономный округ",91:"Калининградская область",92:"Севастополь",94:"Байконур",95:"Чеченская республика",96:"Свердловская область"},v=[{id:1,name:"Алексей Ниточкин",regionId:50,city:"Элекстросталь",subcategories:{"диагностика автомобилей":!0,чиптюнинг:!0,"ремонт электронных блоков управления двигателем":!0,"ремонт электрооборудования автомобилей":!0,"замена датчиков и исполнительных механизмов":!0},category:"ремонт спецтехники",vkProfile:"krokodil330",profilePhotoLink:"https://sun1-96.userapi.com/s/v1/if1/EogRTotUT9KWRJWx6XgzwicmpTXtobX9HqbxJB180-03kGU0nJcFkmECEs00EewnGOsm6Q.jpg?size=200x273&quality=96&crop=67,67,1401,1913&ava=1",phoneNumber:"+7 (999)-999-55-00",reviewsHashtag:"#car_diag_50_1",reviewsLink:""},{id:2,name:"Иванов Иван",regionId:50,city:"Москва",subcategories:{"диагностика автомобилей":!0,чиптюнинг:!0,"ремонт электронных блоков управления двигателем":!0,"ремонт электрооборудования автомобилей":!0,"замена датчиков и исполнительных механизмов":!0},category:"ремонт автомобилей",vkProfile:"krokodil330",profilePhotoLink:"https://sun1-96.userapi.com/s/v1/if1/EogRTotUT9KWRJWx6XgzwicmpTXtobX9HqbxJB180-03kGU0nJcFkmECEs00EewnGOsm6Q.jpg?size=200x273&quality=96&crop=67,67,1401,1913&ava=1",phoneNumber:"+7 (999)-999-55-00",reviewsHashtag:"#car_diag_50_2",reviewsLink:""},{id:3,name:"Смирнов Сергей",regionId:50,city:"Ногинск",subcategories:{"диагностика автомобилей":!0,чиптюнинг:!0,"ремонт электронных блоков управления двигателем":!0,"ремонт электрооборудования автомобилей":!0,"замена датчиков и исполнительных механизмов":!0},category:"ремонт автомобилей",vkProfile:"krokodil330",profilePhotoLink:"https://sun1-96.userapi.com/s/v1/if1/EogRTotUT9KWRJWx6XgzwicmpTXtobX9HqbxJB180-03kGU0nJcFkmECEs00EewnGOsm6Q.jpg?size=200x273&quality=96&crop=67,67,1401,1913&ava=1",phoneNumber:"+7 (999)-999-55-00",reviewsHashtag:"#car_diag_50_3",reviewsLink:""},{id:4,name:"Алексей Ниточкин",regionId:50,city:"Ликино-Дулево",subcategories:{"диагностика автомобилей":!0,чиптюнинг:!0,"ремонт электронных блоков управления двигателем":!0,"ремонт электрооборудования автомобилей":!0,"замена датчиков и исполнительных механизмов":!0},category:"ремонт автомобилей",vkProfile:"krokodil330",profilePhotoLink:"https://sun1-96.userapi.com/s/v1/if1/EogRTotUT9KWRJWx6XgzwicmpTXtobX9HqbxJB180-03kGU0nJcFkmECEs00EewnGOsm6Q.jpg?size=200x273&quality=96&crop=67,67,1401,1913&ava=1",phoneNumber:"+7 (999)-999-55-00",reviewsHashtag:"#car_diag_50_4",reviewsLink:""}];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const M=new class{constructor(){(0,d.Z)(this,"categoriesWithSubcategories",{}),(0,d.Z)(this,"categoriesSelectorOptions",[]),(0,d.Z)(this,"regionsOptions",[]),(0,d.Z)(this,"citiesOptions",[]),(0,d.Z)(this,"filterFormValues",{category:{label:"Любая категория",value:null},subcategory:{label:"",value:null},regionId:{label:"Москва",value:50},city:{label:"Москва",value:"Москва"}}),(0,d.Z)(this,"data",[]),(0,d.Z)(this,"getCategoriesWithSubcategories",(e=>e.reduce(((e,t)=>e[t.category]?b(b({},e),{},{[t.category]:b(b({},e[t.category]),t.subcategories)}):b(b({},e),{},{[t.category]:b({},t.subcategories)})),{}))),(0,d.Z)(this,"getCategoriesSelectorOptions",(()=>Object.keys(this.categoriesWithSubcategories).map((e=>({label:e,value:e}))))),(0,d.Z)(this,"createSubcategoryOptions",(e=>{const t=[],n=[];return Object.keys(this.categoriesWithSubcategories).forEach((s=>{Object.keys(this.categoriesWithSubcategories[s]).forEach((o=>{if(o.toLowerCase().includes(e.toLowerCase())){const e={label:"".concat(o," ← ").concat(s),value:o,dependentFields:{category:{label:s,value:s}}};this.filterFormValues.category.value&&this.filterFormValues.category.value===s?t.push(e):n.push(e)}}))})),[...t,...n]})),(0,d.Z)(this,"getCitiesAutocompleteOptions",(e=>e.map((e=>({label:e.city,value:e.city}))))),(0,d.Z)(this,"getRegionsOptions",(()=>Object.keys(p).map((e=>({label:p[Number(e)],value:Number(e)}))))),(0,d.Z)(this,"onData",((e,t)=>{Number.isInteger(e.regionId.value)&&(this.citiesOptions=this.getCitiesAutocompleteOptions(t))})),(0,d.Z)(this,"requestData",(e=>{const t=v.filter((t=>{let n,s=!1;for(n in e){const o=e[n];if(null!==o.value){if("subcategory"===n){if("string"==typeof o.value){let e;for(e in t.subcategories)if(s=e.toLowerCase().includes(o.value.toLowerCase()),s)break}}else s=t[n]===o.value;if(!s)return!1}else s=!0}return s}));return this.onData(e,t),t})),(0,d.Z)(this,"getDependentFieldsByFieldName",(e=>{let t;return t="regionId"===e?{city:{label:"",value:null}}:{},t})),(0,d.Z)(this,"setFilterFormValues",((e,t)=>{if(""===e)throw new Error("Invalid field name, fieldName '' not exist.");const{dependentFields:n=this.getDependentFieldsByFieldName(e)}=t,s=Object.keys(n);this.filterFormValues=b(b(b({},this.filterFormValues),s.length?n:{}),{},{[e]:t})})),(0,d.Z)(this,"onChangeFilterFormValue",((e,t)=>{this.setFilterFormValues(e,t),this.data=this.requestData(this.filterFormValues)})),(0,d.Z)(this,"init",(()=>{this.categoriesWithSubcategories=this.getCategoriesWithSubcategories(v),this.categoriesSelectorOptions=this.getCategoriesSelectorOptions(),this.regionsOptions=this.getRegionsOptions()})),(0,g.ky)(this)}};var I=n(184),y=n.n(I),w=n(647),C=n(871);const S=e=>{let{children:t,portalRootElementId:n}=e;const s=l.useRef();return s.current||(s.current=document.createElement("div")),(0,l.useEffect)((()=>{const e=document.getElementById(n);return e&&s.current&&e.appendChild(s.current),()=>{e&&s.current&&e.removeChild(s.current)}}),[n]),(0,c.createPortal)(t,s.current)},E=e=>{let{menuItemData:t,index:n,onMenuItemClick:s,onMenuItemMouseEnter:o,onMenuItemMouseMove:a,itemClassName:r,MenuItemComponent:i}=e;const u=(0,l.useMemo)((()=>()=>a(n)),[n,a]),c=(0,l.useMemo)((()=>()=>o(n)),[n,o]),m=(0,l.useMemo)((()=>()=>s(t)),[s,t]);return l.createElement("li",{className:y()(r),onClick:m,"data-index":n,onMouseEnter:c,onMouseMove:u},i?l.createElement(i,{menuItemData:t}):t.label)},O=e=>{let{menuItemsData:t,menuItemsHover:n,onMenuMouseLeave:o,activeSuggestionIndex:a,onMenuItemClick:r,onMenuItemMouseEnter:i,onMenuItemMouseMove:u,menuStyles:c,MenuItemComponent:m}=e;return t&&Boolean(t.length)?l.createElement("ul",{style:c,className:y()(s.default.suggestions),onMouseLeave:o},t.map(((e,t)=>l.createElement(E,{key:e.label,menuItemData:e,index:t,activeSuggestionIndex:a,onMenuItemClick:r,onMenuItemMouseEnter:i,onMenuItemMouseMove:u,itemClassName:y()({[s.default.suggestionActive]:t===a,[s.default.suggestionNoHover]:!n,[s.default.suggestion]:n}),MenuItemComponent:m})))):l.createElement("div",{style:c,className:y()(s.default["no-suggestions"])},l.createElement("em",null,"No suggestions, you're on your own!"))},k=e=>{let{Service:t,serviceChangeHandler:n,serviceParams:s}=e;const o=(0,l.useRef)();return o.current||(o.current=new t(s)),(0,l.useLayoutEffect)((()=>{o.current.subscribe(n)}),[]),(0,l.useEffect)((()=>{const e=o.current;return e.handleMount(),()=>{e.unsubscribe(),e.handleUnmount()}}),[]),o.current};var x=n(92),F=n(33),P=n(217);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var N=new WeakMap,T=new WeakMap,H=new WeakMap,R=new WeakMap,U=new WeakMap;class _{get stateChangesCounter(){return(0,F.Z)(this,H)}get state(){return(0,F.Z)(this,R)}get functionsFromParams(){return(0,F.Z)(this,U)}constructor(){j(this,N,{writable:!0,value:new P.x}),j(this,T,{writable:!0,value:null}),j(this,H,{writable:!0,value:0}),j(this,R,{writable:!0,value:{}}),j(this,U,{writable:!0,value:{}}),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.initState=this.initState.bind(this),this.setState=this.setState.bind(this),this.handleUpdate=this.handleUpdate.bind(this),this.setFunctionsFromParams=this.setFunctionsFromParams.bind(this),this.clearService=this.clearService.bind(this)}handleUpdate(e){const t=Object.keys(e),n=Object.keys(this.state),s=Object.keys(this.functionsFromParams),o={},a={};t.forEach((t=>{n.includes(t)&&(o[t]=e[t]),s.includes(t)&&(a[t]=e[t])})),this.setState(o),this.setFunctionsFromParams(a)}subscribe(e){(0,x.Z)(this,T,(0,F.Z)(this,N).subscribe(e))}unsubscribe(){(0,F.Z)(this,T)&&(0,F.Z)(this,T).unsubscribe()}initState(e){(0,x.Z)(this,R,e),(0,F.Z)(this,N).next({stateChangesCounter:this.stateChangesCounter+1})}setState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,x.Z)(this,R,Z(Z({},(0,F.Z)(this,R)),e)),(0,F.Z)(this,N).next({stateChangesCounter:this.stateChangesCounter+1})}setFunctionsFromParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,x.Z)(this,U,Z(Z({},(0,F.Z)(this,U)),e)),(0,F.Z)(this,N).next({stateChangesCounter:this.stateChangesCounter+1})}clearService(){(0,x.Z)(this,R,{}),(0,x.Z)(this,U,{}),(0,F.Z)(this,N).next({stateChangesCounter:this.stateChangesCounter+1})}}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}class V extends _{constructor(){super(),this.handleMount=this.handleMount.bind(this),this.handleUnmount=this.handleUnmount.bind(this),this.onControlBlur=this.onControlBlur.bind(this),this.closeMenu=this.closeMenu.bind(this),this.onMenuItemClick=this.onMenuItemClick.bind(this),this.onMenuItemMouseMove=this.onMenuItemMouseMove.bind(this),this.onMenuItemMouseEnter=this.onMenuItemMouseEnter.bind(this),this.setMenuStyles=this.setMenuStyles.bind(this)}handleScroll(){this.state.showDropdownMenu&&this.setState({showDropdownMenu:!1})}handleMount(){window.addEventListener("scroll",this.handleScroll)}handleUnmount(){window.removeEventListener("scroll",this.handleScroll)}onControlBlur(){this.closeMenu()}closeMenu(){this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({activeMenuItemIndex:null,showDropdownMenu:!1,menuItemsHover:!0},this.state.filteredSuggestions&&this.state.filteredSuggestions.length?{filteredSuggestions:[]}:{}))}onMenuItemMouseMove(e){const{activeMenuItemIndex:t}=this.state;this.state.menuItemsHover||this.setState({menuItemsHover:!0}),e!==t&&this.setState({activeMenuItemIndex:e})}onMenuItemMouseEnter(e){this.state.menuItemsHover||this.setState({menuItemsHover:!0}),e!==this.state.activeMenuItemIndex&&this.setState({activeMenuItemIndex:e})}onMenuItemClick(e,t){const{disabled:n=!1}=e;n||(this.closeMenu(),t(e))}onControlKeyDown(e){let{eventKey:t,dropdownMenuItemsData:n,activeMenuItemIndex:s,onChangeCallback:o}=e;if("Enter"===t){if(null===s||n[s].disabled)return;this.closeMenu(),o(n[s])}if("Escape"===t&&this.closeMenu(),"ArrowUp"===t){if(0===s)return void this.setState({activeMenuItemIndex:n.length-1,userInput:n[n.length-1].label,menuItemsHover:!1});this.setState({activeMenuItemIndex:null===s?n.length-1:s-1,userInput:null===s?n[n.length-1].label:n[s-1].label,menuItemsHover:!1})}if("ArrowDown"===t){if(s===n.length-1)return void this.setState({activeMenuItemIndex:0,userInput:n[0].label,menuItemsHover:!1});this.setState({activeMenuItemIndex:null===s?0:s+1,userInput:null===s?n[0].label:n[s+1].label,menuItemsHover:!1})}}setMenuStyles(e){if(!e.current)return{position:"absolute",top:"0px",left:"0px",width:"0px"};const t=e.current.getBoundingClientRect();return{position:"absolute",top:"".concat(t.bottom,"px"),left:"".concat(t.left,"px"),width:"".concat(t.right-t.left,"px")}}}class W extends V{constructor(e){super(),this.params=e,(0,d.Z)(this,"getFunctionsFromParams",(e=>{let{MenuItemComponent:t,onChange:n}=e;return{MenuItemComponent:t,onChange:n}})),(0,d.Z)(this,"getInitialState",(e=>({activeMenuItemIndex:null,showDropdownMenu:!1,menuStyles:this.setMenuStyles(e.containerRef),menuItemsHover:!0,dropdownMenuItemsData:e.dropdownMenuItemsData=[],containerRef:e.containerRef,value:e.value}))),(0,d.Z)(this,"handleMount",(()=>{super.handleMount(),this.setMenuStyles(this.params.containerRef)})),(0,d.Z)(this,"handleUnmount",(()=>{super.handleUnmount(),this.clearService()})),(0,d.Z)(this,"onSelectClick",(()=>{const{showDropdownMenu:e}=this.state;e||this.setState({menuStyles:this.setMenuStyles(this.state.containerRef),showDropdownMenu:!0}),e&&this.closeMenu()})),(0,d.Z)(this,"onSelectControlKeyDown",(e=>{const{activeMenuItemIndex:t,dropdownMenuItemsData:n=[]}=this.state,{onChange:s}=this.functionsFromParams;this.onControlKeyDown({eventKey:e.key,dropdownMenuItemsData:n,activeMenuItemIndex:t,onChangeCallback:s})})),(0,d.Z)(this,"onMenuItemClick",(e=>{super.onMenuItemClick(e,this.functionsFromParams.onChange)})),(0,d.Z)(this,"onMenuMouseLeave",(()=>{this.setState({menuItemsHover:!1})})),this.initState(this.getInitialState(this.params)),this.setFunctionsFromParams(this.getFunctionsFromParams(this.params))}handleUpdate(e){super.handleUpdate(e)}}const K=e=>{let{dropdownMenuItemsData:t,MenuItemComponent:n,dropdownMenuPortalTargetId:s,onChange:a,value:r}=e;const i=(0,l.useRef)(null),[,u]=(0,l.useState)(null),c=k({Service:W,serviceChangeHandler:u,serviceParams:{dropdownMenuItemsData:t,MenuItemComponent:n,onChange:a,containerRef:i,value:r}});return(0,l.useEffect)((()=>{c.handleUpdate({dropdownMenuItemsData:t})}),[t]),(0,l.useEffect)((()=>{c.handleUpdate({value:r})}),[r]),l.createElement(l.Fragment,null,l.createElement("div",{className:y()(o.default.container),ref:i},l.createElement("button",{className:y()(o.default.controlButton),type:"button",onKeyDown:c.onSelectControlKeyDown,onClick:c.onSelectClick},c.state.value.label,l.createElement(C.RiI,null))),c.state.showDropdownMenu&&l.createElement(S,{portalRootElementId:s},l.createElement(O,{menuItemsData:c.state.dropdownMenuItemsData,menuItemsHover:c.state.menuItemsHover,activeSuggestionIndex:c.state.activeMenuItemIndex,onMenuItemClick:c.onMenuItemClick,onMenuItemMouseEnter:c.onMenuItemMouseEnter,onMenuItemMouseMove:c.onMenuItemMouseMove,onMenuMouseLeave:c.onMenuMouseLeave,menuStyles:c.state.menuStyles})))},B=e=>{let{dropdownMenuItemsData:t,fieldName:n,formValues:s,onFieldChange:o,MenuItemComponent:a}=e;const r=l.useCallback((e=>o(n,e)),[o,n]);return l.createElement(K,{dropdownMenuPortalTargetId:"portal-root",dropdownMenuItemsData:t,onChange:r,value:s[n],MenuItemComponent:a})};class J extends V{constructor(e){super(),this.params=e,(0,d.Z)(this,"getFunctionsFromParams",(e=>{let{getFilteredSuggestions:t,MenuItemComponent:n,onChange:s}=e;return{getFilteredSuggestions:t,MenuItemComponent:n,onChange:s}})),(0,d.Z)(this,"getInitialState",(e=>({activeMenuItemIndex:null,showDropdownMenu:!1,menuStyles:this.setMenuStyles(e.containerRef),menuItemsHover:!0,filteredSuggestions:[],containerRef:e.containerRef,userInput:e.value.label||"",value:e.value,suggestions:e.suggestions}))),(0,d.Z)(this,"handleMount",(()=>{super.handleMount(),this.setMenuStyles(this.params.containerRef)})),(0,d.Z)(this,"handleUnmount",(()=>{super.handleUnmount(),this.clearService()})),(0,d.Z)(this,"inputChangeCallback",(e=>{const{getFilteredSuggestions:t}=this.functionsFromParams,{suggestions:n=[]}=this.state,s="function"!=typeof t||n.length?n.filter((t=>{let{label:n}=t;return n.toLowerCase().includes(e.toLowerCase())})):t(e);this.setState({showDropdownMenu:Boolean(e),filteredSuggestions:s})})),(0,d.Z)(this,"onInputChange",(e=>{this.setState({menuStyles:this.setMenuStyles(this.state.containerRef),showDropdownMenu:!1,userInput:e.currentTarget.value}),function(e){let{fn:t,ms:n,context:s}=e,o=null;return function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];o&&clearTimeout(o),o=setTimeout((()=>{clearTimeout(o),t.apply(s,a)}),n)}}({fn:this.inputChangeCallback,ms:1e3,context:this})(e.currentTarget.value)})),(0,d.Z)(this,"onAutocompleteControlKeyDown",(e=>{const{filteredSuggestions:t,activeMenuItemIndex:n}=this.state,{onChange:s}=this.functionsFromParams;this.onControlKeyDown({eventKey:e.key,dropdownMenuItemsData:t,activeMenuItemIndex:n,onChangeCallback:s})})),(0,d.Z)(this,"onMenuItemClick",(e=>{super.onMenuItemClick(e,this.functionsFromParams.onChange)})),(0,d.Z)(this,"onMenuMouseLeave",(()=>{null!==this.state.activeMenuItemIndex&&this.setState({activeMenuItemIndex:null,menuItemsHover:!1})})),this.initState(this.getInitialState(this.params)),this.setFunctionsFromParams(this.getFunctionsFromParams(this.params))}handleUpdate(e){super.handleUpdate(e)}}const X=e=>{let{getFilteredSuggestions:t,suggestions:n,MenuItemComponent:s,dropdownMenuPortalTargetId:o,onChange:r,value:i}=e;const u=(0,l.useRef)(null),[,c]=(0,l.useState)(null),m=k({Service:J,serviceChangeHandler:c,serviceParams:{getFilteredSuggestions:t,suggestions:n,onChange:r,containerRef:u,MenuItemComponent:s,value:i}});return(0,l.useEffect)((()=>{m.handleUpdate({value:i,userInput:i.label})}),[i]),(0,l.useEffect)((()=>{m.handleUpdate({suggestions:n})}),[n]),l.createElement(l.Fragment,null,l.createElement("div",{className:y()(a.default.container),ref:u},l.createElement("input",{type:"text",onChange:m.onInputChange,onKeyDown:m.onAutocompleteControlKeyDown,value:m.state.userInput})),m.state.showDropdownMenu&&l.createElement(S,{portalRootElementId:o},l.createElement(O,{menuItemsData:m.state.filteredSuggestions,menuItemsHover:m.state.menuItemsHover,activeSuggestionIndex:m.state.activeMenuItemIndex,onMenuItemClick:m.onMenuItemClick,onMenuItemMouseEnter:m.onMenuItemMouseEnter,onMenuItemMouseMove:m.onMenuItemMouseMove,onMenuMouseLeave:m.onMenuMouseLeave,menuStyles:m.state.menuStyles})))},q=e=>{let{getFilteredSuggestions:t,suggestions:n,MenuItemComponent:s,fieldName:o,formValues:a,onFieldChange:r}=e;const i=l.useCallback((e=>r(o,e)),[r,o]);return l.createElement(X,{dropdownMenuPortalTargetId:"portal-root",getFilteredSuggestions:t,suggestions:n,MenuItemComponent:s,onChange:i,value:a[o]})},A=(0,w.Pi)((e=>{let{searchPageStore:t}=e;const{init:n,createSubcategoryOptions:s,categoriesSelectorOptions:o,filterFormValues:a,onChangeFilterFormValue:i,regionsOptions:u,citiesOptions:c}=t;return l.useEffect((()=>n()),[n]),l.createElement("div",{className:y()(r.default.container)},l.createElement(B,{dropdownMenuItemsData:o,fieldName:"category",formValues:a,onFieldChange:i}),l.createElement(q,{getFilteredSuggestions:s,fieldName:"subcategory",formValues:a,onFieldChange:i}),l.createElement(q,{suggestions:u,fieldName:"regionId",formValues:a,onFieldChange:i}),l.createElement(q,{suggestions:c,fieldName:"city",formValues:a,onFieldChange:i}))})),z=new class{fallbackCopyTextToClipboard(e){const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){throw new Error("Fallback: Oops, unable to copy")}document.body.removeChild(t)}async copyTextToClipboard(e){if(navigator.clipboard)try{await navigator.clipboard.writeText(e)}catch(e){throw new Error("Async: Could not copy text: ")}else this.fallbackCopyTextToClipboard(e)}},G=e=>{let{dataItem:t}=e;const n=l.useCallback((()=>z.copyTextToClipboard(t.reviewsHashtag)),[t.reviewsHashtag]);return l.createElement("div",{className:y()(i.default.container)},l.createElement("div",{className:y()(i.default.imgContainer)},l.createElement("img",{alt:"фото",src:t.profilePhotoLink})),l.createElement("div",{className:y()(i.default.infoContainer)},l.createElement("div",{className:y()(i.default.infoName)},t.name),l.createElement("div",{className:y()(i.default.infoRow)},"Профиль VK: ",l.createElement("a",{href:"https://vk.com/".concat(t.vkProfile),target:"_blank",rel:"noreferrer"},"Ссылка на профиль VK")),l.createElement("div",{className:y()(i.default.infoRow)},"Номер телефона: ",l.createElement("a",{href:"tel:".concat(t.phoneNumber)},t.phoneNumber)),l.createElement("div",{className:y()(i.default.infoRow),onClick:n,role:"button",tabIndex:0},"Хештег для размещения отзыва в VK: ",t.reviewsHashtag),l.createElement("div",{className:y()(i.default.infoRow)},"Отзывы в VK: ",l.createElement("a",{href:"https://vk.com/search?c%5Bper_page%5D=40&c%5Bq%5D=%23__hashTag__&c%5Bsection%5D=statuses".replace("__hashtag__",t.reviewsHashtag)},t.reviewsHashtag))))},Q=(0,w.Pi)((e=>{let{searchPageStore:t}=e;const{data:n}=t;return l.createElement("div",{className:y()(u.default.container)},n.map((e=>l.createElement(G,{key:e.id,dataItem:e}))))})),Y=()=>l.createElement(l.Fragment,null,l.createElement(A,{searchPageStore:M}),l.createElement(Q,{searchPageStore:M})),$=()=>l.createElement(m.UT,null,l.createElement("div",{className:"123"},l.createElement(h.Z5,null,l.createElement(h.AW,{path:"/",element:l.createElement(Y,null)}))));c.render(l.createElement($,null),document.getElementById("app"))}},n={};function s(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,s),a.exports}s.m=t,e=[],s.O=(t,n,o,a)=>{if(!n){var r=1/0;for(c=0;c<e.length;c++){for(var[n,o,a]=e[c],i=!0,u=0;u<n.length;u++)(!1&a||r>=a)&&Object.keys(s.O).every((e=>s.O[e](n[u])))?n.splice(u--,1):(i=!1,a<r&&(r=a));if(i){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[r,i,u]=n,l=0;if(r.some((t=>0!==e[t]))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(u)var c=u(s)}for(t&&t(n);l<r.length;l++)a=r[l],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},n=self.webpackChunkmy_app=self.webpackChunkmy_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=s.O(void 0,[205],(()=>s(962)));o=s.O(o)})();
//# sourceMappingURL=main.3e954b12b1422e303a73.js.map
(()=>{"use strict";var e,t={141:(e,t,n)=>{var s=n(294),o=n(935),a=n(711),r=n(974),i=n(942),u=n(949);const l={1:"Республика Адыгея",2:"Республика Башкортостан",3:"Республика Бурятия",4:"Республика Алтай",5:"Республика Дагестан",6:"Республика Ингушетия",7:"Кабардино-Балкарская Республика",8:"Республика Калмыкия",9:"Республика Карачаево-Черкессия",10:"Республика Карелия",11:"Республика Коми",12:"Республика Марий-Эл",13:"Республика Мордовия",14:"Республика Саха (Якутия)",15:"Республика Северная Осетия - Алания",16:"Республика Татарстан",17:"Республика Тыва",18:"Республика Удмуртия",19:"Республика Хакасия",20:"Чеченская республика",21:"Республика Чувашия",22:"Алтайский край",23:"Краснодарский край",24:"Красноярский край",25:"Приморский край",26:"Ставропольский край",27:"Хабаровский край",28:"Амурская область",29:"Архангельская область",30:"Астраханская область",31:"Белгородская область",32:"Брянская область",33:"Владимирская область",34:"Волгоградская область",35:"Вологодская область",36:"Воронежская область",37:"Ивановская область",38:"Иркутская область",39:"Калининградская область",40:"Калужская область",41:"Камчатская область",42:"Кемеровская область",43:"Кировская область",44:"Костромская область",45:"Курганская область",46:"Курская область",47:"Ленинградская область",48:"Липецкая область",49:"Магаданская область",50:"Московская область",51:"Мурманская область",52:"Нижегородская область",53:"Новгородская область",54:"Новосибирская область",55:"Омская область",56:"Оренбургская область",57:"Орловская область",58:"Пензенская область",59:"Пермский край",60:"Псковская область",61:"Ростовская область",62:"Рязанская область",63:"Самарская область",64:"Саратовская область",65:"Сахалинская область",66:"Свердловская область",67:"Смоленская область",68:"Тамбовская область",69:"Тверская область",70:"Томская область",71:"Тульская область",72:"Тюменская область",73:"Ульяновская область",74:"Челябинская область",75:"Забайкальский край",76:"Ярославская область",77:"Москва",78:"Санкт-Петербург",79:"Еврейская автономная область",80:"Забайкальский край",81:"Пермский край",82:"Республика Крым",83:"Ямало-ненецкий автономный округ",84:"Красноярский край",85:"Иркутская область",86:"Ханты-Мансийский автономный округ - Югра",87:"Чукотский автономный округ",88:"Красноярский край",89:"Ямало-ненецкий автономный округ",91:"Калининградская область",92:"Севастополь",94:"Байконур",95:"Чеченская республика",96:"Свердловская область"},c=[{id:1,name:"Алексей Ниточкин",regionId:50,city:"Элекстросталь",subcategories:{"диагностика автомобилей":!0,чиптюнинг:!0,"ремонт электронных блоков управления двигателем":!0,"ремонт электрооборудования автомобилей":!0,"замена датчиков и исполнительных механизмов":!0},category:"ремонт спецтехники",vkProfile:"krokodil330",profilePhotoLink:"https://sun1-96.userapi.com/s/v1/if1/EogRTotUT9KWRJWx6XgzwicmpTXtobX9HqbxJB180-03kGU0nJcFkmECEs00EewnGOsm6Q.jpg?size=200x273&quality=96&crop=67,67,1401,1913&ava=1",phoneNumber:"+7 (999)-999-55-00",reviewsHashtag:"#car_diag_50_1",reviewsLink:""},{id:2,name:"Иванов Иван",regionId:50,city:"Москва",subcategories:{"диагностика автомобилей":!0,чиптюнинг:!0,"ремонт электронных блоков управления двигателем":!0,"ремонт электрооборудования автомобилей":!0,"замена датчиков и исполнительных механизмов":!0},category:"ремонт автомобилей",vkProfile:"krokodil330",profilePhotoLink:"https://sun1-96.userapi.com/s/v1/if1/EogRTotUT9KWRJWx6XgzwicmpTXtobX9HqbxJB180-03kGU0nJcFkmECEs00EewnGOsm6Q.jpg?size=200x273&quality=96&crop=67,67,1401,1913&ava=1",phoneNumber:"+7 (999)-999-55-00",reviewsHashtag:"#car_diag_50_2",reviewsLink:""},{id:3,name:"Смирнов Сергей",regionId:50,city:"Ногинск",subcategories:{"диагностика автомобилей":!0,чиптюнинг:!0,"ремонт электронных блоков управления двигателем":!0,"ремонт электрооборудования автомобилей":!0,"замена датчиков и исполнительных механизмов":!0},category:"ремонт автомобилей",vkProfile:"krokodil330",profilePhotoLink:"https://sun1-96.userapi.com/s/v1/if1/EogRTotUT9KWRJWx6XgzwicmpTXtobX9HqbxJB180-03kGU0nJcFkmECEs00EewnGOsm6Q.jpg?size=200x273&quality=96&crop=67,67,1401,1913&ava=1",phoneNumber:"+7 (999)-999-55-00",reviewsHashtag:"#car_diag_50_3",reviewsLink:""},{id:4,name:"Алексей Ниточкин",regionId:50,city:"Ликино-Дулево",subcategories:{"диагностика автомобилей":!0,чиптюнинг:!0,"ремонт электронных блоков управления двигателем":!0,"ремонт электрооборудования автомобилей":!0,"замена датчиков и исполнительных механизмов":!0},category:"ремонт автомобилей",vkProfile:"krokodil330",profilePhotoLink:"https://sun1-96.userapi.com/s/v1/if1/EogRTotUT9KWRJWx6XgzwicmpTXtobX9HqbxJB180-03kGU0nJcFkmECEs00EewnGOsm6Q.jpg?size=200x273&quality=96&crop=67,67,1401,1913&ava=1",phoneNumber:"+7 (999)-999-55-00",reviewsHashtag:"#car_diag_50_4",reviewsLink:""}];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d=new class{constructor(){(0,i.Z)(this,"categoriesWithSubcategories",{}),(0,i.Z)(this,"categoriesSelectorOptions",[]),(0,i.Z)(this,"regionsOptions",[]),(0,i.Z)(this,"citiesOptions",[]),(0,i.Z)(this,"filterFormValues",{category:{label:"Любая категория",value:null},subcategory:{label:"",value:null},regionId:{label:"Москва",value:50},city:{label:"Москва",value:"Москва"}}),(0,i.Z)(this,"data",[]),(0,i.Z)(this,"getCategoriesWithSubcategories",(e=>e.reduce(((e,t)=>e[t.category]?h(h({},e),{},{[t.category]:h(h({},e[t.category]),t.subcategories)}):h(h({},e),{},{[t.category]:h({},t.subcategories)})),{}))),(0,i.Z)(this,"getCategoriesSelectorOptions",(()=>Object.keys(this.categoriesWithSubcategories).map((e=>({label:e,value:e}))))),(0,i.Z)(this,"createSubcategoryOptions",(e=>{const t=[],n=[];return Object.keys(this.categoriesWithSubcategories).forEach((s=>{Object.keys(this.categoriesWithSubcategories[s]).forEach((o=>{if(o.toLowerCase().includes(e.toLowerCase())){const e={label:"".concat(o," ← ").concat(s),value:o,dependentFields:{category:{label:s,value:s}}};this.filterFormValues.category.value&&this.filterFormValues.category.value===s?t.push(e):n.push(e)}}))})),[...t,...n]})),(0,i.Z)(this,"getCitiesAutocompleteOptions",(e=>e.map((e=>({label:e.city,value:e.city}))))),(0,i.Z)(this,"getRegionsOptions",(()=>Object.keys(l).map((e=>({label:l[Number(e)],value:Number(e)}))))),(0,i.Z)(this,"onData",((e,t)=>{Number.isInteger(e.regionId.value)&&(this.citiesOptions=this.getCitiesAutocompleteOptions(t))})),(0,i.Z)(this,"requestData",(e=>{const t=c.filter((t=>{let n,s=!1;for(n in e){const o=e[n];if(null!==o.value){if("subcategory"===n){if("string"==typeof o.value){let e;for(e in t.subcategories)if(s=e.toLowerCase().includes(o.value.toLowerCase()),s)break}}else s=t[n]===o.value;if(!s)return!1}else s=!0}return s}));return this.onData(e,t),t})),(0,i.Z)(this,"getDependentFieldsByFieldName",(e=>{let t;return t="regionId"===e?{city:{label:"",value:null}}:{},t})),(0,i.Z)(this,"setFilterFormValues",((e,t)=>{if(""===e)throw new Error("Invalid field name, fieldName '' not exist.");const{dependentFields:n=this.getDependentFieldsByFieldName(e)}=t,s=Object.keys(n);this.filterFormValues=h(h(h({},this.filterFormValues),s.length?n:{}),{},{[e]:t})})),(0,i.Z)(this,"onChangeFilterFormValue",((e,t)=>{this.setFilterFormValues(e,t),this.data=this.requestData(this.filterFormValues)})),(0,i.Z)(this,"init",(()=>{this.categoriesWithSubcategories=this.getCategoriesWithSubcategories(c),this.categoriesSelectorOptions=this.getCategoriesSelectorOptions(),this.regionsOptions=this.getRegionsOptions()})),(0,u.ky)(this)}};var g=n(184),p=n.n(g),v=n(647),b=n(871);const f=e=>{let{children:t,portalRootElementId:n}=e;const a=s.useRef();return a.current||(a.current=document.createElement("div")),(0,s.useEffect)((()=>{const e=document.getElementById(n);return e&&a.current&&e.appendChild(a.current),()=>{e&&a.current&&e.removeChild(a.current)}}),[n]),(0,o.createPortal)(t,a.current)},M=e=>{let{menuItemData:t,index:n,onMenuItemClick:o,onMenuItemMouseEnter:a,onMenuItemMouseMove:r,itemClassName:i,MenuItemComponent:u}=e;const l=(0,s.useMemo)((()=>()=>r(n)),[n,r]),c=(0,s.useMemo)((()=>()=>a(n)),[n,a]),m=(0,s.useMemo)((()=>()=>o(t)),[o,t]);return s.createElement("li",{className:p()(i),onClick:m,"data-index":n,onMouseEnter:c,onMouseMove:l},u?s.createElement(u,{menuItemData:t}):t.label)},I=e=>{let{menuItemsData:t,menuItemsHover:n,onMenuMouseLeave:o,activeSuggestionIndex:a,onMenuItemClick:r,onMenuItemMouseEnter:i,onMenuItemMouseMove:u,menuStyles:l,MenuItemComponent:c}=e;return t&&Boolean(t.length)?s.createElement("ul",{style:l,className:p()("psDaF"),onMouseLeave:o},t.map(((e,t)=>s.createElement(M,{key:e.label,menuItemData:e,index:t,activeSuggestionIndex:a,onMenuItemClick:r,onMenuItemMouseEnter:i,onMenuItemMouseMove:u,itemClassName:p()({pJ30p:t===a,xOUIt:!n,dppcK:n}),MenuItemComponent:c})))):s.createElement("div",{style:l,className:p()("QLzIt")},s.createElement("em",null,"No suggestions, you're on your own!"))},y=e=>{let{Service:t,serviceChangeHandler:n,serviceParams:o}=e;const a=(0,s.useRef)();return a.current||(a.current=new t(o)),(0,s.useLayoutEffect)((()=>{a.current.subscribe(n)}),[]),(0,s.useEffect)((()=>{const e=a.current;return e.handleMount(),()=>{e.unsubscribe(),e.handleUnmount()}}),[]),a.current};var C=n(92),w=n(33),E=n(217);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var x=new WeakMap,F=new WeakMap,P=new WeakMap,D=new WeakMap,Z=new WeakMap;class j{get stateChangesCounter(){return(0,w.Z)(this,P)}get state(){return(0,w.Z)(this,D)}get functionsFromParams(){return(0,w.Z)(this,Z)}constructor(){k(this,x,{writable:!0,value:new E.x}),k(this,F,{writable:!0,value:null}),k(this,P,{writable:!0,value:0}),k(this,D,{writable:!0,value:{}}),k(this,Z,{writable:!0,value:{}}),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.initState=this.initState.bind(this),this.setState=this.setState.bind(this),this.handleUpdate=this.handleUpdate.bind(this),this.setFunctionsFromParams=this.setFunctionsFromParams.bind(this),this.clearService=this.clearService.bind(this)}handleUpdate(e){const t=Object.keys(e),n=Object.keys(this.state),s=Object.keys(this.functionsFromParams),o={},a={};t.forEach((t=>{n.includes(t)&&(o[t]=e[t]),s.includes(t)&&(a[t]=e[t])})),this.setState(o),this.setFunctionsFromParams(a)}subscribe(e){(0,C.Z)(this,F,(0,w.Z)(this,x).subscribe(e))}unsubscribe(){(0,w.Z)(this,F)&&(0,w.Z)(this,F).unsubscribe()}initState(e){(0,C.Z)(this,D,e),(0,w.Z)(this,x).next({stateChangesCounter:this.stateChangesCounter+1})}setState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,C.Z)(this,D,O(O({},(0,w.Z)(this,D)),e)),(0,w.Z)(this,x).next({stateChangesCounter:this.stateChangesCounter+1})}setFunctionsFromParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,C.Z)(this,Z,O(O({},(0,w.Z)(this,Z)),e)),(0,w.Z)(this,x).next({stateChangesCounter:this.stateChangesCounter+1})}clearService(){(0,C.Z)(this,D,{}),(0,C.Z)(this,Z,{}),(0,w.Z)(this,x).next({stateChangesCounter:this.stateChangesCounter+1})}}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}class H extends j{constructor(){super(),this.handleMount=this.handleMount.bind(this),this.handleUnmount=this.handleUnmount.bind(this),this.onControlBlur=this.onControlBlur.bind(this),this.closeMenu=this.closeMenu.bind(this),this.onMenuItemClick=this.onMenuItemClick.bind(this),this.onMenuItemMouseMove=this.onMenuItemMouseMove.bind(this),this.onMenuItemMouseEnter=this.onMenuItemMouseEnter.bind(this),this.setMenuStyles=this.setMenuStyles.bind(this)}handleScroll(){this.state.showDropdownMenu&&this.setState({showDropdownMenu:!1})}handleMount(){window.addEventListener("scroll",this.handleScroll)}handleUnmount(){window.removeEventListener("scroll",this.handleScroll)}onControlBlur(){this.closeMenu()}closeMenu(){this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({activeMenuItemIndex:null,showDropdownMenu:!1,menuItemsHover:!0},this.state.filteredSuggestions&&this.state.filteredSuggestions.length?{filteredSuggestions:[]}:{}))}onMenuItemMouseMove(e){const{activeMenuItemIndex:t}=this.state;this.state.menuItemsHover||this.setState({menuItemsHover:!0}),e!==t&&this.setState({activeMenuItemIndex:e})}onMenuItemMouseEnter(e){this.state.menuItemsHover||this.setState({menuItemsHover:!0}),e!==this.state.activeMenuItemIndex&&this.setState({activeMenuItemIndex:e})}onMenuItemClick(e,t){const{disabled:n=!1}=e;n||(this.closeMenu(),t(e))}onControlKeyDown(e){let{eventKey:t,dropdownMenuItemsData:n,activeMenuItemIndex:s,onChangeCallback:o}=e;if("Enter"===t){if(null===s||n[s].disabled)return;this.closeMenu(),o(n[s])}if("Escape"===t&&this.closeMenu(),"ArrowUp"===t){if(0===s)return void this.setState({activeMenuItemIndex:n.length-1,userInput:n[n.length-1].label,menuItemsHover:!1});this.setState({activeMenuItemIndex:null===s?n.length-1:s-1,userInput:null===s?n[n.length-1].label:n[s-1].label,menuItemsHover:!1})}if("ArrowDown"===t){if(s===n.length-1)return void this.setState({activeMenuItemIndex:0,userInput:n[0].label,menuItemsHover:!1});this.setState({activeMenuItemIndex:null===s?0:s+1,userInput:null===s?n[0].label:n[s+1].label,menuItemsHover:!1})}}setMenuStyles(e){if(!e.current)return{position:"absolute",top:"0px",left:"0px",width:"0px"};const t=e.current.getBoundingClientRect();return{position:"absolute",top:"".concat(t.bottom,"px"),left:"".concat(t.left,"px"),width:"".concat(t.right-t.left,"px")}}}class T extends H{constructor(e){super(),this.params=e,(0,i.Z)(this,"getFunctionsFromParams",(e=>{let{MenuItemComponent:t,onChange:n}=e;return{MenuItemComponent:t,onChange:n}})),(0,i.Z)(this,"getInitialState",(e=>({activeMenuItemIndex:null,showDropdownMenu:!1,menuStyles:this.setMenuStyles(e.containerRef),menuItemsHover:!0,dropdownMenuItemsData:e.dropdownMenuItemsData=[],containerRef:e.containerRef,value:e.value}))),(0,i.Z)(this,"handleMount",(()=>{super.handleMount(),this.setMenuStyles(this.params.containerRef)})),(0,i.Z)(this,"handleUnmount",(()=>{super.handleUnmount(),this.clearService()})),(0,i.Z)(this,"onSelectClick",(()=>{const{showDropdownMenu:e}=this.state;e||this.setState({menuStyles:this.setMenuStyles(this.state.containerRef),showDropdownMenu:!0}),e&&this.closeMenu()})),(0,i.Z)(this,"onSelectControlKeyDown",(e=>{const{activeMenuItemIndex:t,dropdownMenuItemsData:n=[]}=this.state,{onChange:s}=this.functionsFromParams;this.onControlKeyDown({eventKey:e.key,dropdownMenuItemsData:n,activeMenuItemIndex:t,onChangeCallback:s})})),(0,i.Z)(this,"onMenuItemClick",(e=>{super.onMenuItemClick(e,this.functionsFromParams.onChange)})),(0,i.Z)(this,"onMenuMouseLeave",(()=>{this.setState({menuItemsHover:!1})})),this.initState(this.getInitialState(this.params)),this.setFunctionsFromParams(this.getFunctionsFromParams(this.params))}handleUpdate(e){super.handleUpdate(e)}}const R=e=>{let{dropdownMenuItemsData:t,MenuItemComponent:n,dropdownMenuPortalTargetId:o,onChange:a,value:r}=e;const i=(0,s.useRef)(null),[,u]=(0,s.useState)(null),l=y({Service:T,serviceChangeHandler:u,serviceParams:{dropdownMenuItemsData:t,MenuItemComponent:n,onChange:a,containerRef:i,value:r}});return(0,s.useEffect)((()=>{l.handleUpdate({dropdownMenuItemsData:t})}),[t]),(0,s.useEffect)((()=>{l.handleUpdate({value:r})}),[r]),s.createElement(s.Fragment,null,s.createElement("div",{className:p()("uy9aa"),ref:i},s.createElement("button",{className:p()("WpC4k"),type:"button",onKeyDown:l.onSelectControlKeyDown,onClick:l.onSelectClick},l.state.value.label,s.createElement(b.RiI,null))),l.state.showDropdownMenu&&s.createElement(f,{portalRootElementId:o},s.createElement(I,{menuItemsData:l.state.dropdownMenuItemsData,menuItemsHover:l.state.menuItemsHover,activeSuggestionIndex:l.state.activeMenuItemIndex,onMenuItemClick:l.onMenuItemClick,onMenuItemMouseEnter:l.onMenuItemMouseEnter,onMenuItemMouseMove:l.onMenuItemMouseMove,onMenuMouseLeave:l.onMenuMouseLeave,menuStyles:l.state.menuStyles})))},U=e=>{let{dropdownMenuItemsData:t,fieldName:n,formValues:o,onFieldChange:a,MenuItemComponent:r}=e;const i=s.useCallback((e=>a(n,e)),[a,n]);return s.createElement(R,{dropdownMenuPortalTargetId:"portal-root",dropdownMenuItemsData:t,onChange:i,value:o[n],MenuItemComponent:r})};class L extends H{constructor(e){super(),this.params=e,(0,i.Z)(this,"getFunctionsFromParams",(e=>{let{getFilteredSuggestions:t,MenuItemComponent:n,onChange:s}=e;return{getFilteredSuggestions:t,MenuItemComponent:n,onChange:s}})),(0,i.Z)(this,"getInitialState",(e=>({activeMenuItemIndex:null,showDropdownMenu:!1,menuStyles:this.setMenuStyles(e.containerRef),menuItemsHover:!0,filteredSuggestions:[],containerRef:e.containerRef,userInput:e.value.label||"",value:e.value,suggestions:e.suggestions}))),(0,i.Z)(this,"handleMount",(()=>{super.handleMount(),this.setMenuStyles(this.params.containerRef)})),(0,i.Z)(this,"handleUnmount",(()=>{super.handleUnmount(),this.clearService()})),(0,i.Z)(this,"inputChangeCallback",(e=>{const{getFilteredSuggestions:t}=this.functionsFromParams,{suggestions:n=[]}=this.state,s="function"!=typeof t||n.length?n.filter((t=>{let{label:n}=t;return n.toLowerCase().includes(e.toLowerCase())})):t(e);this.setState({showDropdownMenu:Boolean(e),filteredSuggestions:s})})),(0,i.Z)(this,"onInputChange",(e=>{this.setState({menuStyles:this.setMenuStyles(this.state.containerRef),showDropdownMenu:!1,userInput:e.currentTarget.value}),function(e){let{fn:t,ms:n,context:s}=e,o=null;return function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];o&&clearTimeout(o),o=setTimeout((()=>{clearTimeout(o),t.apply(s,a)}),n)}}({fn:this.inputChangeCallback,ms:1e3,context:this})(e.currentTarget.value)})),(0,i.Z)(this,"onAutocompleteControlKeyDown",(e=>{const{filteredSuggestions:t,activeMenuItemIndex:n}=this.state,{onChange:s}=this.functionsFromParams;this.onControlKeyDown({eventKey:e.key,dropdownMenuItemsData:t,activeMenuItemIndex:n,onChangeCallback:s})})),(0,i.Z)(this,"onMenuItemClick",(e=>{super.onMenuItemClick(e,this.functionsFromParams.onChange)})),(0,i.Z)(this,"onMenuMouseLeave",(()=>{null!==this.state.activeMenuItemIndex&&this.setState({activeMenuItemIndex:null,menuItemsHover:!1})})),this.initState(this.getInitialState(this.params)),this.setFunctionsFromParams(this.getFunctionsFromParams(this.params))}handleUpdate(e){super.handleUpdate(e)}}const _=e=>{let{getFilteredSuggestions:t,suggestions:n,MenuItemComponent:o,dropdownMenuPortalTargetId:a,onChange:r,value:i}=e;const u=(0,s.useRef)(null),[,l]=(0,s.useState)(null),c=y({Service:L,serviceChangeHandler:l,serviceParams:{getFilteredSuggestions:t,suggestions:n,onChange:r,containerRef:u,MenuItemComponent:o,value:i}});return(0,s.useEffect)((()=>{c.handleUpdate({value:i,userInput:i.label})}),[i]),(0,s.useEffect)((()=>{c.handleUpdate({suggestions:n})}),[n]),s.createElement(s.Fragment,null,s.createElement("div",{className:p()("YMrHT"),ref:u},s.createElement("input",{type:"text",onChange:c.onInputChange,onKeyDown:c.onAutocompleteControlKeyDown,value:c.state.userInput})),c.state.showDropdownMenu&&s.createElement(f,{portalRootElementId:a},s.createElement(I,{menuItemsData:c.state.filteredSuggestions,menuItemsHover:c.state.menuItemsHover,activeSuggestionIndex:c.state.activeMenuItemIndex,onMenuItemClick:c.onMenuItemClick,onMenuItemMouseEnter:c.onMenuItemMouseEnter,onMenuItemMouseMove:c.onMenuItemMouseMove,onMenuMouseLeave:c.onMenuMouseLeave,menuStyles:c.state.menuStyles})))},K=e=>{let{getFilteredSuggestions:t,suggestions:n,MenuItemComponent:o,fieldName:a,formValues:r,onFieldChange:i}=e;const u=s.useCallback((e=>i(a,e)),[i,a]);return s.createElement(_,{dropdownMenuPortalTargetId:"portal-root",getFilteredSuggestions:t,suggestions:n,MenuItemComponent:o,onChange:u,value:r[a]})},W=(0,v.Pi)((e=>{let{searchPageStore:t}=e;const{init:n,createSubcategoryOptions:o,categoriesSelectorOptions:a,filterFormValues:r,onChangeFilterFormValue:i,regionsOptions:u,citiesOptions:l}=t;return s.useEffect((()=>n()),[n]),s.createElement("div",{className:p()("EaXdz")},s.createElement(U,{dropdownMenuItemsData:a,fieldName:"category",formValues:r,onFieldChange:i}),s.createElement(K,{getFilteredSuggestions:o,fieldName:"subcategory",formValues:r,onFieldChange:i}),s.createElement(K,{suggestions:u,fieldName:"regionId",formValues:r,onFieldChange:i}),s.createElement(K,{suggestions:l,fieldName:"city",formValues:r,onFieldChange:i}))})),V="PKSfO",B=new class{fallbackCopyTextToClipboard(e){const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){throw new Error("Fallback: Oops, unable to copy")}document.body.removeChild(t)}async copyTextToClipboard(e){if(navigator.clipboard)try{await navigator.clipboard.writeText(e)}catch(e){throw new Error("Async: Could not copy text: ")}else this.fallbackCopyTextToClipboard(e)}},J=e=>{let{dataItem:t}=e;const n=s.useCallback((()=>B.copyTextToClipboard(t.reviewsHashtag)),[t.reviewsHashtag]);return s.createElement("div",{className:p()("rPs7R")},s.createElement("div",{className:p()("RId4Z")},s.createElement("img",{alt:"фото",src:t.profilePhotoLink})),s.createElement("div",{className:p()("MefHE")},s.createElement("div",{className:p()("xEB5f")},t.name),s.createElement("div",{className:p()(V)},"Профиль VK: ",s.createElement("a",{href:"https://vk.com/".concat(t.vkProfile),target:"_blank",rel:"noreferrer"},"Ссылка на профиль VK")),s.createElement("div",{className:p()(V)},"Номер телефона: ",s.createElement("a",{href:"tel:".concat(t.phoneNumber)},t.phoneNumber)),s.createElement("div",{className:p()(V),onClick:n,role:"button",tabIndex:0},"Хештег для размещения отзыва в VK: ",t.reviewsHashtag),s.createElement("div",{className:p()(V)},"Отзывы в VK: ",s.createElement("a",{href:"https://vk.com/search?c%5Bper_page%5D=40&c%5Bq%5D=%23__hashTag__&c%5Bsection%5D=statuses".replace("__hashtag__",t.reviewsHashtag)},t.reviewsHashtag))))},X=(0,v.Pi)((e=>{let{searchPageStore:t}=e;const{data:n}=t;return s.createElement("div",{className:p()("Po4va")},n.map((e=>s.createElement(J,{key:e.id,dataItem:e}))))})),q=()=>s.createElement(s.Fragment,null,s.createElement(W,{searchPageStore:d}),s.createElement(X,{searchPageStore:d})),z=()=>s.createElement(a.UT,null,s.createElement("div",{className:"123"},s.createElement(r.Z5,null,s.createElement(r.AW,{path:"/",element:s.createElement(q,null)}))));o.render(s.createElement(z,null),document.getElementById("app"))}},n={};function s(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,s),a.exports}s.m=t,e=[],s.O=(t,n,o,a)=>{if(!n){var r=1/0;for(c=0;c<e.length;c++){for(var[n,o,a]=e[c],i=!0,u=0;u<n.length;u++)(!1&a||r>=a)&&Object.keys(s.O).every((e=>s.O[e](n[u])))?n.splice(u--,1):(i=!1,a<r&&(r=a));if(i){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[r,i,u]=n,l=0;if(r.some((t=>0!==e[t]))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(u)var c=u(s)}for(t&&t(n);l<r.length;l++)a=r[l],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},n=self.webpackChunkmy_app=self.webpackChunkmy_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=s.O(void 0,[205],(()=>s(141)));o=s.O(o)})();
//# sourceMappingURL=main.02af2cc509f74e5fcb65.js.map